<?xml version="1.0" encoding="UTF-8" ?>
<Module> 
	<ModulePrefs title="Comics"
		height="250"
		author="Sergio Haro"
		scrolling="true"
		description="Over 100 comics, including all your favorites (Dilbert, Calvin and Hobbes, Piled Higher and Deeper). Shows your comics all together so there is no need for clicking as well as controls to show older comics. Also, switch to Canvas view to see your comics in their full sized glory.Displays multiple comics of your choosing."
		screenshot="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comic_screenshot.png"
		thumbnail="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comics.jpg"
		author_quote="What I thought I'd do, I 'd pretend to be one of those deaf mutes"
		author_email="sergio.haro.jr@gmail.com"> 
		<Require feature="dynamic-height" /> 
		<Require feature="views" /> 
		<Require feature="setprefs"/> 
		<optional feature="shareable-prefs" /> 
	</ModulePrefs> 
	<UserPref name="comics" datatype="hidden" default_value="0" /> 
	<UserPref name="welcome" datatype="hidden" default_value="0" /> 
	<UserPref name="autoheight" display_name="Auto-Adjust Height" datatype="bool" default_value="false" /> 
	<Content type="html" view="home,canvas,profile"> 
		<![CDATA[
		<!-- ALm6fM2hgUL3LFipNWHI2RW/5J1IjytMzoWheeTHJV+ypIvmCCkxSxrfN1IIM/+H4H9Pp6J5KIn4CRUgkyfiDPJLCxj0as+Vvx3k10SwYpa7Coi7T/gKYlfEIpn2X4onYode4tGqjPPzNInEXtd6Y8b/sijEB7LYAL3spsX/72tJbb5aKcjlI0s= -->
		<style type="text/css">
			#content{margin-top:5px;overflow:auto;}
			#newstuff, #oldstuff {display: none;}
			.clickzone { position: absolute; width: 15px; height: 15px}
			.clickzone0 { top: 0; left: 0}
			.clickzone1 { top: 0; right: 0}
			.clickzone2 { bottom: 0; left: 0}
			.clickzone3 { bottom: 0; right: 0}
			#prefsDiv{overflow:auto;}
			#header{text-align:right;padding-right:4px;}
			.hd{text-align:right;padding-right:4px;}
			.linkSep{padding-right:4px;padding-left:4px;}
			.prefBut{margin:4px 8px;width:70px;}
			.comic{background-color:#99C6D7;max-width:654px;padding-bottom:6px;margin:auto;margin-bottom:13px;-moz-border-radius:10px;-webkit-border-radius:10px;align:center;}
			.header{color:white;text-align:center;}
			.comicType{padding-top:12px;font-weight:bold;font-size:large;}
			.imgContainer{vertical-align:middle;}
			img.all{display:block;margin:auto;-moz-border-radius:8px;-webkit-border-radius:8px;text-align:center;}
			img.restrained{width:98%;}
			.controls{padding-top:4px;text-align:center;color:white;font-size:xx-large;font-weight:bold;position:relative;}
			.next{cursor:pointer;margin-left:30px;}
			.previous{cursor:pointer;margin-right:30px;}
			a{font-size:12px;}
			a.fblink{height:19px;width:19px;background-image:url('http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/fbicon.png');position:absolute;bottom:0px;right:8px;}
			a.twlink{height:14px;width:14px;background-image:url('http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/twicon.png');position:absolute;bottom:3px;right:33px;}
		</style>
		<script> 
			/*********************************
 
			Global Variables
 
			**********************************/
			var currentWelcomeCount = 1;
			var prefs = new gadgets.Prefs();
			var selection = prefs.getString('comics').split('');
			var welcomeCount = prefs.getInt('welcome');
			var showOldStuff = prefs.getBool('showOld');
			var autoheight = prefs.getBool("autoheight");
			var displayed_comics = {};
			var comicTypes = {GO:0, PHD: 1, YAHOO: 2, ARCAMAX: 3, XKCD: 4};
			var todaysDate = new Date();
		</script> 
		<script type="text/javascript" src="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comicsCore.js"></script> 
		<script type="text/javascript" src="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comicsPrefs.js"></script> 
		<script type="text/javascript" src="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comicsList.js"></script> 
		<script type="text/javascript" src="http://comics-google-gadget.googlecode.com/svn/trunk/igoogle/comicsDisplay.js"></script> 
        <script>
            var current_key = 0;
            
            function key(num) {
                current_key = current_key | num;
                if(current_key == 15) {
                    setOldAsDefault();
                }
            }
            
            function setOldAsDefault() {
                prefs.set('showOld',true);
                $('oldstuff').style.display = 'block';
                $('newstuff').style.display = 'none';
                initDisplay();
            }
            
            function keyOnLoad() {
                if(showOldStuff) {
                    $('oldstuff').style.display = 'block';
                    initDisplay();
                } else {
                    $('newstuff').style.display = 'block';
                }
            }
            
            gadgets.util.registerOnLoadHandler(keyOnLoad);            
        </script>
        <div id="newstuff" onkeyup="onKey(event)">
            <br />
            Hi Guys, <br /><br />
            
            Thanks to all those who have enjoyed my gadget for the last few years.
            Unforunately, the folks over at AM Universal (gocomics.com) have forced
            Google to remove my gadget from the listings and now they want me to 
            shutdown the gadget for all the existing users. And they want all you
            guys to start using their terrible google gadget.<br/><br />
            
            If you wish to complain, feel free to send an email to one of the following
            addresses: jvivona@amuniversal.com, salesdirector@amuniversal.com, or jperes@amuniversal.com<br/><br/>
            
            Sergio<br/>
            <div class="clickzone clickzone0" onclick="key(1)"></div>
            <div class="clickzone clickzone1" onclick="key(2)"></div>
            <div class="clickzone clickzone2" onclick="key(4)"></div>
            <div class="clickzone clickzone3" onclick="key(8)"></div>
        </div>
        
		<div id="oldstuff"> 
			<div id="header"> 
				<a href="#" onclick="globalPrevious()">All Previous</a> 
				<span>|</span> 
				<a href="#" onclick="globalNext()">All Next</a> 
				<span>|</span> 
				<a href="#" target="_blank" id="openInNew">Open Window</a> 
				<span>|</span> 
				<a href="#" onclick="showPreferences()">Choose Comics</a> 
			</div> 
			<div id="welcome" style="display: none"> 
				<p> 
				Hi All! I'm trying out a new requested feature to allow your comics to expand to the full page. 
				To try it out, click the arrow on the top bar and select edit settings on the drop down the shows up. 
				From there, turn on auto-adjust height.
				</p> 
				<p>
				Also, if you find that your comic shows other comics, it has most likely been removed from the 
				location I'm getting it from. I'm working on a messaging feature to make this more clear.
				</p> 
				<p> 
					Enjoy, <br /> 
					Sergio
				</p> 
			</div> 
				<div id="prefsDiv"></div> 
				<div id="content"></div> 
			</div> 
			]]>
	</Content> 
</Module>